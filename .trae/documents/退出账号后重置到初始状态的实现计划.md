## 目标
- 登录后自动显示云端事件：拉取事件后将其中的所有 `category` 加入到 `visibleTags`，避免筛选导致看不到数据。
- 标签云端持久化：登录时加载云端标签并恢复；在新增/更新/删除标签时同步写入云端；退出后重置为初始标签与示例事件。

## 改动点
- 登录加载流程（App.tsx）
  - 在 `useEffect([currentUser])` 中：并发拉取云端标签与事件；若拉到标签则 `setTags` 和 `setVisibleTags`；拉到事件后 `setEvents` 并将事件的 `category` 合并到 `visibleTags`。
- 标签服务层
  - 新增 `utils/tagService.ts`：`fetchTags(userId)`、`createTag(userId, tag)`、`updateTag(userId, tag)`、`deleteTag(userId, id)`。
  - 登录态下，`handleAddTag`、`handleUpdateTag`、`handleDeleteTag` 调用对应服务函数；`handleDeleteTag` 保持现有事件联动删除，同时删除云端标签。
- 数据库迁移
  - 新增 `supabase/migrations/002_tags.sql`：`public.tags(id text primary key, user_id uuid, label text, color text, icon text, created_at)`；开启 RLS 并按 `auth.uid() = user_id` 设读写删策略。
- 退出逻辑
  - 已实现：退出后重置 `events`、`tags`、`visibleTags`，并清理 `localStorage('calendar_tags')`；保留。

## 验证
- 登录后创建/导入事件并分配标签；退出再登录：事件与标签均按云端恢复且事件可见。
- 删除标签：本地与云端同时删除该标签下事件与标签；刷新或重登后不再出现。