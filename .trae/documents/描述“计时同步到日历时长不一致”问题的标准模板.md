## 问题标题
- 闹钟模块（秒表/计时）同步到日历后，事件时长显示与实际不一致

## 影响范围
- 模块：闹钟 → 同步日志（LogSession）
- 展示：日历（日视图/周视图）事件块的时长与期望不一致

## 复现步骤
1. 在闹钟模块选择“秒表”或“计时”。
2. 开始计时；停在 5 分钟（示例：09:00 开始，09:05 停止）。
3. 点击“确认同步”，选择任意标签并保存。
4. 返回日历查看当日事件时段。

## 期望结果
- 日历出现一条事件：开始时间=计时开始时间；结束时间=计时结束时间；总时长=5 分钟。

## 实际结果
- 日历中事件时长不是 5 分钟（请填写实际看到的分钟数或显示形式）。

## 证据（请附图/数据）
- 截图：
  - 计时结束弹窗（显示的开始/结束时间）
  - 日历中该事件的显示（开始/结束时间或格子高度）
- 数据查询（Supabase SQL Editor 中粘贴运行）：
  - 查看该用户的事件（按时间倒序）：
    ```sql
    select id, title, start_time, end_time, category
    from public.events
    where user_id = '47cdb2cb-1753-480e-8452-25f7ab09b64d'
    order by start_time desc
    limit 10;
    ```
  - 说明：检查 `start_time` 与 `end_time` 的差值是否正好 5 分钟；如果数据库是 5 分钟但 UI 显示不是，则为前端渲染问题；如果数据库本身不是 5 分钟，则为保存逻辑问题。

## 可能原因（供参考）
- 保存链路：闹钟 → LogSessionModal → `handleLogSession` → `handleAddEvent` → `splitEventAcrossDays` → `createEvents` → `fetchEvents` → 日历渲染。
- 关键代码：
  - 提交日志入口：`App.tsx:103-129`（构造 `title/startTime/endTime/category/date` 并调用保存）
  - 创建事件并持久化：`App.tsx:85-101`（保存并从数据库刷新）
  - 跨天拆分与边界处理：`utils/dateUtils.ts:212-244`（`splitEventAcrossDays`）
  - 存储/读取时间：`utils/eventService.ts:4-9`（`toTime` 转 ISO）、`utils/eventService.ts:14-25`（`fromDB` 映射回 `HH:mm` 与 `date`）
- 典型问题源：
  - 时区转换：保存为 `timestamptz`（UTC）后，本地显示时区转换导致开始/结束时间错位（通常表现为分钟差仍正确，但显示的时分不同）。
  - 最小时长/纠错：`splitEventAcrossDays` 在“结束 ≤ 开始”时会强制至少 30 分钟；若传入时间顺序异常，可能被纠正为 30 分钟。
  - UI 最小高度：日历渲染如果有最小高度，5 分钟可能被视觉拉大（但数值应该仍显示为 5 分钟）。

## 诊断结论（请据结果填写）
- 若数据库中 `end_time - start_time = 5 分钟`，但 UI 显示不是 → 前端显示层问题（时区/布局最小高度）。
- 若数据库中差值不是 5 分钟 → 保存时传入的 `startTime/endTime` 有误或被 `splitEventAcrossDays` 修正。

## 建议修复方向（确认后我可执行）
- 若为保存问题：
  - 在 `handleLogSession` 提交前记录/校验 `startTime/endTime`；确保传入顺序正确；必要时避免进入 30 分钟纠错分支。
- 若为时区显示问题：
  - 统一以本地时间保存和显示：保存时加上选定日期的时区偏移，读取时按本地渲染；或在渲染层用 `toHHMM` 时校正时区。
- 若为 UI 最小高度：
  - 在时间格布局中允许 5 分钟事件的最小高度更小，或加时长标签确保信息清晰。

请先按“证据”部分跑一下查询并截图，我将根据你的结果给出针对性的修复（保存链路 vs 渲染显示），并在代码中落地修改。