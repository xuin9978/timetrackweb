## 获取密钥
- 登录 Supabase 控制台 → 项目 → `Project Settings` → `API`
- 在 `Project API keys` 下找到 `anon public`，复制其值；不要使用 `service_role`。

## 写入环境变量
- 在项目根目录的 `.env.local` 新增一行：
  - `VITE_SUPABASE_ANON_KEY=<你的 anon public>`
- 保持已有的 `VITE_SUPABASE_URL=<你的项目 URL>` 不变。
- 仅在本地保存，避免提交到版本库。

## 重启开发服务
- 终止当前开发服务后重新启动：`npm run dev`
- 观察终端无报错；浏览器自动刷新后可访问 `http://localhost:3001/`。

## 登录校验
- 打开应用，进行登录；顶部右侧应显示你的邮箱，表明会话有效。
- 若仍弹出 `未配置 Supabase`，说明 `.env.local` 未正确生效或变量名拼写有误。

## 功能验证（今天 11.26）
- 创建今天普通时间段：在“今天”列空白处按下并垂直拖动，创建如 `09:00-10:00`；保存后应立即显示在今天列与右侧事件面板。
- 创建今天跨日时间段：`23:00-02:00`；应切分成今天 `23:00-24:00` 与明天 `00:00-02:00` 两段显示。
- 导入 ICS：选择包含今天或跨日的 `.ics` 文件；导入后，今天涉及的片段应显示。
- 若事件所属分类初次出现，界面会自动把分类加入 `visibleTags`，确保显示。

## 交互提示
- 创建需点击今天列的空白区域；点击事件块会被拦截。
- 避免水平移动超过 `5px`，否则会判定为横向滚动而不进入创建。

## 故障排查
- 检查 `.env.local` 所在路径与变量名：`VITE_` 前缀不可缺。
- 浏览器刷新无效时，完整重启开发服务以重新加载环境变量。
- 若登录后仍提示未配置，重新确认 Supabase 项目 URL 与 anon key 是否匹配当前项目。

## 安全注意
- `.env.local` 仅用于本地开发，含密钥，请不要提交到仓库或公开分享。